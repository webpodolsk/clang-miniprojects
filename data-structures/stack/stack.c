/*
    X --------------------------------------- X
    |  ะะฐะดะฐัะฐ (ััะปะพะถะฝัั ัะตะฑะต ะถะธะทะฝั, ัะฐััั 2)  |
    X --------------------------------------- X 
    ะะตะฐะปะธะทะพะฒะฐัั  ะฝะฐ  ะพัะฝะพะฒะต ะพะดะฝะพัะฒัะทะฝะพะณะพ ัะฟะธัะบะฐ 
    ะฑะธะฑะปะธะพัะตะบั  ััะตะบะฐ ะฝะฐ ัะทัะบะต ะก ะฑะตะท ะบะฐะบะธั-ะปะธะฑะพ
    ะณะฐะนะดะพะฒ,  ะพัะฝะพะฒัะฒะฐััั  ะปะธัั ะฝะฐ ะทะฝะฐะฝะธัั ัะพะณะพ,
    ะบะฐะบ  ัะฐะฑะพัะฐัั  ัะตะณะผะตะฝัั  ะฟะฐะผััะธ  ะฟัะพัะตััะฐ ะธ
    ััะฐะฝะดะฐัั  ัะทัะบะฐ. ะฏ  ะธะทะพะฑัะตัะฐั ะฒะตะปะพัะธะฟะตะด, ะฝะพ
    ะดะตะปะฐั  ััะพ ะฝะต ะฟะพ ะฒะตะปะพัะธะฟะตะดะธัััะบะธะผ ะถััะฝะฐะปะฐะผ,
    ะฐ  ะฟะพ ััะตะฑะฝะธะบะฐะผ ัะธะทะธะบะธ ะธ ัะฒะฐัะบะต. ะญัะพ ะบัััะพ.
              ๐ ๐ ๐ ๐ ๐ ๐ ๐ ๐
    ะะพะผะผะตะฝัะฐัะธะธ  ะฝัะถะฝั, ััะพะฑั ะฟะพะดะผะตัะฐัั ัะต ะธะปะธ
    ะธะฝัะต ัะตัะตะฝะธั, ะบ ะบะพัะพััะผ ะฟัะธัะตะป ัะฐะผ.
*/
#include <stdio.h>
#include <stdint.h>
#include <stdlib.h>
#include "stack.h"

Stack createStack()
{
    /*
        ะคัะฝะบัะธั  ะฒะพะทะฒัะฐัะฐะตั  ััะพ-ัะพ  ะฒัะพะดะต  ะดะตัะบัะธะฟัะพัะฐ ััะตะบะฐ, ะบะพัะพััะน
        ะธัะฟะพะปัะทัะตััั  ะฒะพ  ะฒัะตั  ััะฝะบัะธัั  ะฑะธะฑะปะธะพัะตะบะธ. ะะตัะบัะธะฟัะพั ััะตะบะฐ
        ะผะพะถะตั  ัะบะฐะทัะฒะฐัั  ะฝะฐ NULLPTR, ะธ ััะพ ะฝะต ะฑัะดะตั ัะฒะปััััั ะพัะธะฑะบะพะน.
        ะฏ ะธัะฟะพะปัะทัั NULLPTR, ััะพะฑั ะพัะปะธัะฐัั ะฟัััะพะน ััะตะบ ะพั ะฝะต ะฟัััะพะณะพ.
        ะะพ ะฒัะตั ะพััะฐะปัะฝัั ััะฝะบัะธัั ะฟัะพะธะทะฒะพะดัััั ะฟัะพะฒะตัะบะธ.
    */
    
    // ะะพะผะผะตะฝัะฐัะธะตะฒ ะฑะพะปััะต, ัะตะผ ะบะพะดะฐ  เดฆเตเดฆเดฟ โขโฉโข )
    return NULL;
}

int isEmptyStack(Stack* s)
{
    return s == NULL ? 1 : 0;
}

int pushStack(Stack* s, int64_t value)
{
    /*
        ะัะดะตะปัั  ะฟะฐะผััั  ะฟะพะด ะฝะพะฒัั ะฝะพะดั ััะตะบะฐ ะธ ะฟัะธัะฒะฐะธะฒะฐั ะฟัะธ ะฟะพะผะพัะธ
        ัะบะฐะทะฐัะตะปั  ะฝะฐ  ัะบะฐะทะฐัะตะปั  ะดะตัะบัะธะฟัะพัั ัััะปะบั ะฝะฐ ะฝะพะฒัั ะฒะตััะฝัั
        ะฝะพะดั ััะตะบะฐ, ะบะพัะพัะฐั ัะบะฐะทัะฒะฐะตั ะฟัะธ ะฟะพะผะพัะธ ะฟะพะปั next ะฝะฐ ััะฐััั.
    */
    _StackNode* node = (_StackNode*)malloc(sizeof(_StackNode));

    if (node == NULL) {
        return STACKLIB_MALLOC_ERROR;
    }

    node->value = value;
    node->next = *s;
    *s = node;

    return 0;
}

int64_t popStack(Stack* s)
{
    /*
        ะะตัะบัะธะฟัะพั  ััะตะบะฐ  ัะตะฟะตัั  ัะบะฐะทัะฒะฐะตั  ะฝะฐ ะฝะธะถะต ะปะตะถะฐััั ะฝะพะดั,
        ะฐ  ะฟัะตะดัะดััะฐั ะพัะธัะฐะตััั ะธะท ะบััะธ ะธ ะฒะพะทะฒัะฐัะฐะตััั ะตะต ะทะฝะฐัะตะฝะธะต.
    */
    _StackNode* lastNode = *s;
    int64_t result = lastNode->value;

    _StackNode* nextNode = lastNode->next;
    *s = nextNode;
    free(lastNode);

    return result;
}

void freeStack(Stack* s)
{
    _StackNode* tmp;

    while (*s != NULL) {
        tmp = *s;
        *s = (*s)->next;
        free(tmp);
    }
}